angular.module('Netsafe').controller('malwareController', function($scope) {
	console.log('you are in malwareController');

  $scope.playerVars = {
    controls: 1,
    rel: 0
  };

  $scope.malwareVid = 'https://www.youtube.com/watch?v=nukvi5wITBI';
  $scope.virusVid = 'https://www.youtube.com/watch?v=FhZBuX7EYLQ';
  $scope.trojanVid = 'https://www.youtube.com/watch?v=_rThg0xOow0';
  $scope.wormsVid = 'https://www.youtube.com/watch?v=3kmqA26ZilM';
  $scope.adwareVid = 'https://www.youtube.com/watch?v=1utfcSG9KQA';
  $scope.spywareVid = 'https://www.youtube.com/watch?v=JahkF4tc2I0';
  $scope.keyloggerVid = 'https://www.youtube.com/watch?v=zkJBAfcpftQ';
  $scope.ransomwareVid = 'https://www.youtube.com/watch?v=dwpM1roFxTk';

  var pauseCount = 0;

  $scope.$on('youtube.player.playing', function($event, player){
    console.log(player.getVideoData().video_id); // get the video id of the playing video

    if(player.getVideoData().video_id == "nukvi5wITBI"){
      console.log("hello, malware vid is playing");
    } else if (player.getVideoData().video_id == "FhZBuX7EYLQ"){
      console.log("hello, virus vid is playing");
    } else if (player.getVideoData().video_id == "_rThg0xOow0"){
      console.log("hello, trojan vid is playing");
    } else if (player.getVideoData().video_id == "3kmqA26ZilM"){
      console.log("hello, worms vid is playing");
    } else if (player.getVideoData().video_id == "1utfcSG9KQA"){
      console.log("hello, adware vid is playing");
    } else if (player.getVideoData().video_id == "JahkF4tc2I0"){
      console.log("hello, spyware vid is playing");
    } else if (player.getVideoData().video_id == "zkJBAfcpftQ"){
      console.log("hello, keylogger vid is playing");
    } else {
      console.log("hello, ransomware vid is playing");
    }

    // problem: its not at a SPECIFIC time, pause @ ___ seconds, play, pauses @ ___ seconds
    // if the pause is by the teacher, then it will work up everything
    console.log(pauseCount);
  });

  // puts pauseCount counter back to 0
  $scope.$on('youtube.player.ended', function($event, player){
    pauseCount = 0;
    console.log(pauseCount);
  });

   var prevID = 0;

  $scope.showTab = function(id){

    if(prevID === id){
      $(".malwr-btn").removeClass("active");
      $scope.showTab(1);

      prevID = 0;
    } else {
      $(".malwr-btn").removeClass("active");
      $(".tab-content").hide();

      $("#malwr-btn-"+ id).addClass("active");
      $("#tab-content-" + id).show();

      prevID = id;
    }
  };

  $scope.showTab(1);


});
